
## 题目

总结限流，熔断，降级的常用方式，重试的注意事项，负载均衡的常用方式。


## 解答

### Q1 为什么要做熔断? 实现熔断有哪些方式? 

A1-1: 当下游的服务被某种原因导致变得不可用或响应异常慢, 上游为了保证自己整体服务可用性 不在调用目标服务.

A1-2: 服务直接需要做隔离、服务隔离、轻重隔离、物理隔离, 还要对服务做降级处理


### Q2 对于大量流量、如何限流? 有哪些方案实现限流?

A2-1: 在一段时间内, 定义某个客户或应用可以接收或处理指定数量请求.

A2-2: golang的令牌桶 golang/x/time/ratelimit、BBR限流


### Q3 什么是降级? 如何实现降级?

A3-1: 通过丢弃一些不重要的请求来减少服务端的工作量

A3-2: 根据一些指标来处理某个服务是否需要降级 采集如 CPU、延迟、队列长度、线程数量、错误 降级的本质提供有损服务
页面读取上一次缓存副本、默认值、热门推荐.

### Q4 重试有哪些注意事项?

需要注意重试的次数不可以让调用方无限重试、随机化 指数型递增的重试周期.

只应该在失败的这层进行重试

Q5 负载均衡实现的常用方式有哪些?

1. 轮询法
2. 随机法
3. 随机轮询法
4. 源地址哈希法
5. 加权轮询
6. 加权随机法
7. 最小连接数法

